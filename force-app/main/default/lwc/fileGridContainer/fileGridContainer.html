<template>
  <h2 class="slds-text-color_weak slds-text-title_bold slds-p-vertical_large">
    All Files ({fileCount})
  </h2>

  <div class="slds-p-bottom_medium">
    <lightning-input
      type="search"
      label="Search by Filename"
      onchange={handleInputChange}
    ></lightning-input>
  </div>

  <lightning-accordion
    allow-multiple-sections-open
    active-section-name={activeSections}
  >
    <template for:each={filteredFiles} for:item="group">
      <lightning-accordion-section
        class={group.class}
        key={group.type}
        name={group.type}
        label={group.label}
      >
        <c-file-grid
          grid-data={group.data}
          columns={columns}
          onrowaction={handleRowAction}
        ></c-file-grid>
      </lightning-accordion-section>
    </template>
  </lightning-accordion>

  <p class="slds-p-vertical_medium slds-text-align_center slds-text-color_weak">
    This record has no files yet
  </p>
  <c-modal header="Confirm Delete">
    <p class="slds-text-align_center">
      Are you sure you want to delete this file?
    </p>
    <div slot="footer">
      <lightning-button
        label="Cancel"
        variant="neutral"
        onclick={handleCancelModal}
        class="slds-p-right_x-small"
      ></lightning-button>
      <lightning-button
        label="Delete"
        variant="destructive"
        onclick={handleCloseModal}
      ></lightning-button>
    </div>
  </c-modal>
</template>
